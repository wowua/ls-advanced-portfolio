(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{343:function(t,e,i){},371:function(t,e,i){"use strict";var l=i(343);i.n(l).a},398:function(t,e,i){"use strict";i.r(e);var l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("form",{staticClass:"add-new-container",class:{"is-blocked":t.blocked||t.loading},on:{submit:function(e){return e.preventDefault(),t.addNewSkill(e)}}},[i("div",{staticClass:"add-new__inputs"},[i("div",{staticClass:"add-new__col"},[i("app-input",{attrs:{placeholder:"Новый навык",errorText:t.validation.firstError("skill.title")},model:{value:t.skill.title,callback:function(e){t.$set(t.skill,"title",e)},expression:"skill.title"}})],1),i("div",{staticClass:"add-new__col add-new__col_small"},[i("app-input",{attrs:{type:"number",min:"0",max:"100",maxlength:"3",errorText:t.validation.firstError("skill.percent")},model:{value:t.skill.percent,callback:function(e){t.$set(t.skill,"percent",e)},expression:"skill.percent"}})],1)]),i("button",{staticClass:"add-new__button",attrs:{type:"submit","data-text":"+"}})])};l._withStripped=!0;var s=i(31),a=i(97),n={mixins:[i(97).mixin],validators:{"skill.title":t=>a.Validator.value(t).required("Заполните название"),"skill.percent":t=>a.Validator.value(t).integer("Должно быть числом").between(0,100,"Некорректное значение для процентов").required("Поле не может быть пустым")},props:{blocked:{type:Boolean,default:!1},categoryId:Number},data:()=>({loading:!1,skill:{title:"",percent:0}}),components:{appInput:()=>i.e(0).then(i.bind(null,396))},methods:{...Object(s.b)("skills",["addSkill"]),...Object(s.b)("tooltips",["showTooltip"]),async addNewSkill(){if(!1!==await this.$validate()){this.loading=!0;try{await this.addSkill({category:this.categoryId,title:this.skill.title,percent:this.skill.percent});this.skill.percent=0,this.skill.title="",this.showTooltip({type:"success",text:"Скилл добавлен"})}catch(t){this.showTooltip({type:"error",text:t.message})}finally{this.loading=!1,this.validation.reset()}}}}},o=(i(371),i(96)),r=Object(o.a)(n,l,[],!1,null,"d43345ec",null);r.options.__file="src/admin/components/skills-add-item.vue";e.default=r.exports}}]);