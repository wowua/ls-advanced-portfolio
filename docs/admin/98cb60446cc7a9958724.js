(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{336:function(t,i,s){},364:function(t,i,s){"use strict";var e=s(336);s.n(e).a},388:function(t,i,s){"use strict";s.r(i);var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"about-page-container"},[s("div",{staticClass:"container"},[s("div",{staticClass:"about-page__title"},[s("h1",{staticClass:"page-title"},[t._v(t._s(t.pageTitle))]),!1===t.showAddingCard?s("button",{staticClass:"about-page__add-new",on:{click:function(i){t.showAddingCard=!0}}},[t._v("Добавить группу")]):t._e()])]),s("div",{staticClass:"about-page__content"},[s("div",{staticClass:"container container--mobile-wide"},[s("ul",{staticClass:"skill-list"},[t.showAddingCard?s("li",{staticClass:"skill-list__item",class:{loading:t.loading}},[s("add-new-skills-group",{attrs:{errorText:t.validation.firstError("title")},on:{closeOrRemove:t.close,approve:t.addSkillsGroup},model:{value:t.title,callback:function(i){t.title=i},expression:"title"}})],1):t._e(),t._l(t.skillsCategories,function(t){return s("li",{staticClass:"skill-list__item"},[s("skills-card",[s("template",{slot:"title"},[s("skills-title",{attrs:{categoryData:t}})],1),s("template",{slot:"content"},[s("div",{staticClass:"skill-list__table"},[s("skills-table",{attrs:{categoryId:t.id}})],1),s("div",{staticClass:"add-new"},[s("add-new-skill",{attrs:{categoryId:t.id}})],1)])],2)],1)})],2)])])])};e._withStripped=!0;var l=s(31),a=s(97),o={mixins:[s(97).mixin],validators:{title:t=>a.Validator.value(t).required("Заполните название")},components:{skillsCard:()=>s.e(1).then(s.bind(null,395)),appInput:()=>s.e(0).then(s.bind(null,396)),addNewSkillsGroup:()=>s.e(21).then(s.bind(null,397)),addNewSkill:()=>s.e(8).then(s.bind(null,398)),skillsTable:()=>s.e(22).then(s.bind(null,399)),skillsTitle:()=>s.e(24).then(s.bind(null,400))},props:{pageTitle:{type:String,default:""}},computed:{...Object(l.e)("skills",{skillsCategories:t=>t.categories})},data:()=>({showAddingCard:!1,loading:!1,title:""}),created(){this.collectCategories()},methods:{...Object(l.b)("skills",["storeSkillsGroup","fetchCategories"]),...Object(l.b)("tooltips",["showTooltip"]),...Object(l.d)("skills",["ADD_SKILLS_CATEGORY"]),close(){this.showAddingCard=!1,this.title=""},async collectCategories(){try{await this.fetchCategories()}catch(t){this.showTooltip({type:"error",text:t.message})}},async addSkillsGroup(){if(!1!==await this.$validate()){this.loading=!0;try{await this.storeSkillsGroup({title:this.title});this.showAddingCard=!1,this.title="",this.showTooltip({type:"success",text:"Группа создана"})}catch(t){this.showTooltip({type:"error",text:t.message})}finally{this.loading=!1,this.validation.reset()}}}}},n=(s(364),s(96)),d=Object(n.a)(o,e,[],!1,null,"7a383ca2",null);d.options.__file="src/admin/components/pages/about.vue";i.default=d.exports}}]);