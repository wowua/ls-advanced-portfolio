(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{332:function(t,e,s){"use strict";s.d(e,"b",function(){return n}),s.d(e,"a",function(){return r});var i=s(54);const n=t=>{const e=new FileReader;return new Promise((s,i)=>{try{e.readAsDataURL(t),e.onloadend=(()=>{s(e.result)})}catch(t){throw new Error("Ошибка при чтении файла")}})},r=t=>{return`${i.a.defaults.baseURL}/${t}`}},350:function(t,e,s){},378:function(t,e,s){"use strict";var i=s(350);s.n(i).a},405:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this.$createElement,e=this._self._c||t;return e("card",[e("template",{slot:"title"},[e("user",{attrs:{user:this.constructUserObj(this.review)}})],1),e("div",{staticClass:"reviews__content",attrs:{slot:"content"},slot:"content"},[e("div",{staticClass:"reviews__content-text"},[e("p",[this._v(this._s(this.review.text))])]),e("div",{staticClass:"reviews__btns"},[e("iconedBtn",{staticClass:"is-pencil",attrs:{"data-text":"Править"},on:{click:this.updateWork}}),e("iconedBtn",{staticClass:"is-cross",attrs:{"data-text":"Удалить"},on:{click:this.removeExistedReview}})],1)])],2)};i._withStripped=!0;var n=s(332),r=s(31),o={components:{card:()=>s.e(1).then(s.bind(null,395)),user:()=>s.e(27).then(s.bind(null,413)),iconedBtn:()=>s.e(2).then(s.bind(null,414))},props:{review:Object},methods:{...Object(r.b)("reviews",["removeReview"]),...Object(r.b)("tooltips",["showTooltip"]),...Object(r.d)("reviews",["SET_CURRENT_REVIEW"]),updateWork(){this.SET_CURRENT_REVIEW(this.review.id),this.$emit("updateWork")},async removeExistedReview(){if(!1===confirm("Удалить отзыв?"))try{await this.removeReview(this.review.id);this.showTooltip({type:"success",text:"Работа удалена"})}catch(t){this.showTooltip({type:"error",text:t.message})}},constructUserObj:t=>({name:t.author,occ:t.occ,avatar:Object(n.a)(t.photo)})}},c=(s(378),s(96)),a=Object(c.a)(o,i,[],!1,null,"2296f515",null);a.options.__file="src/admin/components/reviews-item.vue";e.default=a.exports}}]);